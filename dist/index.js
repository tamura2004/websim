!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t);var i="right",o="left",a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.value=t}var t,r,a;return t=e,(r=[{key:"isRight",get:function(){return this.value===i}},{key:"isLeft",get:function(){return this.value===o}},{key:"key",get:function(){return this.isRight?i:o}},{key:"other",get:function(){return this.isRight?o:i}},{key:"offset",get:function(){return this.isRight?20:-20}}])&&n(t.prototype,r),a&&n(t,a),e}(),s=new a(i),u=new a(o);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.right=[],this.left=[]}var t,r,n;return t=e,(r=[{key:"both",value:regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,r=!1,n=void 0,e.prev=3,i=this.right[Symbol.iterator]();case 5:if(t=(o=i.next()).done){e.next=12;break}return a=o.value,e.next=9,a;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),r=!0,n=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!r){e.next=24;break}throw n;case 24:return e.finish(21);case 25:return e.finish(18);case 26:s=!0,u=!1,c=void 0,e.prev=29,l=this.left[Symbol.iterator]();case 31:if(s=(f=l.next()).done){e.next=38;break}return h=f.value,e.next=35,h;case 35:s=!0,e.next=31;break;case 38:e.next=44;break;case 40:e.prev=40,e.t1=e.catch(29),u=!0,c=e.t1;case 44:e.prev=44,e.prev=45,s||null==l.return||l.return();case 47:if(e.prev=47,!u){e.next=50;break}throw c;case 50:return e.finish(47);case 51:return e.finish(44);case 52:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25],[29,40,44,52],[45,,47,51]])})},{key:"isNotEmpty",value:function(e){return void 0===e?this.right.length>0||this.left.length>0:e===s?this.right.length>0:e===u?this.left.length>0:void 0}}])&&c(t.prototype,r),n&&c(t,n),e}();var f=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.right=null,this.left=null};function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.speed=r,this.p5=t,this.tasks=new l,this.nodes=new f}var t,r,n;return t=e,(r=[{key:"reset",value:function(){this.tasks=new l}},{key:"push",value:function(e){var t=e.direction.key;e.speed=this.speed,e.destination=this.nodes[t].position,this.tasks[t].push(e)}},{key:"next",value:function(){this._next(s),this._next(u)}},{key:"_next",value:function(e){var t=this.tasks[e.key],r=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){o.value.next()}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}for(;t.length>0&&t[0].arrive;){var s=t.shift();this.nodes[e.key].push(s)}}},{key:"draw",value:function(){this.p5.fill(0),this.p5.line(this.nodes.left.position.x,this.nodes.left.position.y,this.nodes.right.position.x,this.nodes.right.position.y)}}])&&h(t.prototype,r),n&&h(t,n),e}();function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.right=[],this.left=[]}var t,r,n;return t=e,(r=[{key:"both",value:regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,r=!1,n=void 0,e.prev=3,i=this.right[Symbol.iterator]();case 5:if(t=(o=i.next()).done){e.next=12;break}return a=o.value,e.next=9,a;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),r=!0,n=e.t0;case 18:e.prev=18,e.prev=19,t||null==i.return||i.return();case 21:if(e.prev=21,!r){e.next=24;break}throw n;case 24:return e.finish(21);case 25:return e.finish(18);case 26:s=!0,u=!1,c=void 0,e.prev=29,l=this.left[Symbol.iterator]();case 31:if(s=(f=l.next()).done){e.next=38;break}return h=f.value,e.next=35,h;case 35:s=!0,e.next=31;break;case 38:e.next=44;break;case 40:e.prev=40,e.t1=e.catch(29),u=!0,c=e.t1;case 44:e.prev=44,e.prev=45,s||null==l.return||l.return();case 47:if(e.prev=47,!u){e.next=50;break}throw c;case 50:return e.finish(47);case 51:return e.finish(44);case 52:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25],[29,40,44,52],[45,,47,51]])})}])&&y(t.prototype,r),n&&y(t,n),e}();function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.p5=t,this.color=r,this.direction=n,this.position=null,this.destination=null,this.speed=null,this.power=null,this.size=15,this.webId=null}var t,r,n;return t=e,(r=[{key:"next",value:function(){if(null===this.position||null===this.destination||null===this.speed)throw new Error("Bad task property");var e=this.destination.copy().sub(this.position).normalize().mult(this.speed);this.arrive||this.position.add(e)}},{key:"draw",value:function(){this.p5.fill(this.color),this.p5.ellipse(this.position.x,this.position.y,this.size),this.p5.fill("black")}},{key:"distance",get:function(){if(null===this.destination||null===this.position)throw new Error("Bad task property");return p5.Vector.dist(this.position,this.destination)}},{key:"arrive",get:function(){return this.distance<this.speed/2+1}}])&&b(t.prototype,r),n&&b(t,n),e}();function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var k=function(){function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.p5=t,this.name=r,this.color=n,this.position=i,this.cpu=1,this.power=150,this.tasks=new l,this.edges=new v}var t,r,n;return t=e,(r=[{key:"reset",value:function(){this.tasks=new l}},{key:"link",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;this._link(s,t)}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}}},{key:"_link",value:function(e,t){var r=new p(this.p5);("LB"===e.name&&t.isRight||"LB"===this.name&&t.isLeft)&&(r.speed=2),r.nodes[t.other]=this,r.nodes[t.key]=e,this.edges[t.key].push(r)}},{key:"push",value:function(e){e.power=this.power,e.speed=1,e.position=this.position.copy(),e.destination=this.position.copy(),this._push(e,e.direction)}},{key:"_push",value:function(e,t){this.tasks[t.key].push(e)}},{key:"dispatch",value:function(e){this.p5.random(this.edges[e.direction.key]).push(e)}},{key:"_next",value:function(e){var t=this,r=this.cpu,n=this.tasks[e.key],i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;if(0===r)break;c.power<=r?(r-=c.power,c.power=0):(c.power-=r,r=0)}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}for(;n.length>0&&0===n[0].power;){var l=n.shift();this.dispatch(l)}n.forEach(function(e,r){var n=e.direction.offset;e.destination=t.p5.createVector(t.position.x+n,t.position.y+n*r)})}},{key:"next",value:function(){this._next(s),this._next(u);var e=!0,t=!1,r=void 0;try{for(var n,i=this.edges.both()[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.next()}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}var o=!0,a=!1,c=void 0;try{for(var l,f=this.tasks.both()[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){l.value.next()}}catch(e){a=!0,c=e}finally{try{o||null==f.return||f.return()}finally{if(a)throw c}}}},{key:"draw",value:function(){this.p5.fill(this.color),this.p5.rect(this.position.x-40,this.position.y-30,80,60),"white"===this.color?this.p5.fill("black"):this.p5.fill("white"),this.p5.text(this.name,this.position.x-32,this.position.y-12),this.p5.text("".concat(this.tasks.right.length+this.tasks.left.length),this.position.x-32,this.position.y)}},{key:"createTask",value:function(){var e=new d(this.p5,this.color,s);return this.push(e),e}}])&&w(t.prototype,r),n&&w(t,n),e}(),g=["#c93a40","#0074bf","#56a764","#de9610","#65ace4","#f2cf01","#d16b16"];function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e,t,r){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e,r){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e.createVector(100,100*r);return(n=x(this,O(t).call(this,e,"PC#".concat(r),g[r-1],i))).power=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,k),j(t,null,[{key:"create",value:function(e){for(var r=[],n=1;n<6;n++)r.push(new t(e,n));return r}}]),j(t,[{key:"dispatch",value:function(e){e.direction.isLeft||S(O(t.prototype),"dispatch",this).call(this,e)}}]),t}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=function(e){var t,r,n;function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=e.createVector(700,200*t-100);return R(this,C(i).call(this,e,"WEB#".concat(t),"white",r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(i,k),t=i,n=[{key:"create",value:function(e){for(var t=[],r=1;r<4;r++)t.push(new i(e,r));return t}}],(r=null)&&B(t.prototype,r),n&&B(t,n),i}();function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=q(this,D(t).call(this,e,"LB","white",e.createVector(400,300)))).webId=0,r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,k),r=t,(n=[{key:"dispatch",value:function(e){if(e.direction.isRight)this.edges.right[this.webId].push(e),e.webId=this.webId,this.webId=(this.webId+1)%this.edges.right.length;else{var t=g.indexOf(e.color);this.edges.left[t].push(e)}}}])&&V(r.prototype,n),i&&V(r,i),t}(),N={X_POS:1e3,Y_POS:300};function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e,t,r){return(F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Y(this,G(t).call(this,e,"DB","white",e.createVector(N.X_POS,N.Y_POS)))}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,k),r=t,(n=[{key:"push",value:function(e){e.direction=u,F(G(t.prototype),"push",this).call(this,e)}},{key:"dispatch",value:function(e){e.direction.isLeft&&this.edges.left[e.webId].push(e)}}])&&X(r.prototype,n),i&&X(r,i),t}();function K(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.p5=t,this.pc=E.create(t),this.lb=new z(t),this.web=L.create(t),this.db=new J(t),this.nodes=[].concat(K(this.pc),[this.lb],K(this.web),[this.db]),this.linkNodes()}var t,r,n;return t=e,(r=[{key:"linkNodes",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.pc[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.link([this.lb],s)}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}this.lb.link(this.web,s),this.lb.link(this.pc,u);var o=!0,a=!1,c=void 0;try{for(var l,f=this.web[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var h=l.value;h.link([this.db],s),h.link([this.lb],u)}}catch(e){a=!0,c=e}finally{try{o||null==f.return||f.return()}finally{if(a)throw c}}this.db.link(this.web,u)}},{key:"reset",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.edges()[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.reset()}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}var o=!0,a=!1,s=void 0;try{for(var u,c=this.nodes[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){u.value.reset()}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}},{key:"edges",value:regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,r=!1,n=void 0,e.prev=3,i=this.nodes[Symbol.iterator]();case 5:if(t=(o=i.next()).done){e.next=36;break}a=o.value,s=!0,u=!1,c=void 0,e.prev=10,l=a.edges.both()[Symbol.iterator]();case 12:if(s=(f=l.next()).done){e.next=19;break}return h=f.value,e.next=16,h;case 16:s=!0,e.next=12;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(10),u=!0,c=e.t0;case 25:e.prev=25,e.prev=26,s||null==l.return||l.return();case 28:if(e.prev=28,!u){e.next=31;break}throw c;case 31:return e.finish(28);case 32:return e.finish(25);case 33:t=!0,e.next=5;break;case 36:e.next=42;break;case 38:e.prev=38,e.t1=e.catch(3),r=!0,n=e.t1;case 42:e.prev=42,e.prev=43,t||null==i.return||i.return();case 45:if(e.prev=45,!r){e.next=48;break}throw n;case 48:return e.finish(45);case 49:return e.finish(42);case 50:case"end":return e.stop()}},e,this,[[3,38,42,50],[10,21,25,33],[26,,28,32],[43,,45,49]])})},{key:"tasks",value:regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,u,c,l,f,h,p,y,v,b,d,w,k,g,m,x,S,O;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,r=!1,n=void 0,e.prev=3,i=this.edges()[Symbol.iterator]();case 5:if(t=(o=i.next()).done){e.next=36;break}a=o.value,s=!0,u=!1,c=void 0,e.prev=10,l=a.tasks.both()[Symbol.iterator]();case 12:if(s=(f=l.next()).done){e.next=19;break}return h=f.value,e.next=16,h;case 16:s=!0,e.next=12;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(10),u=!0,c=e.t0;case 25:e.prev=25,e.prev=26,s||null==l.return||l.return();case 28:if(e.prev=28,!u){e.next=31;break}throw c;case 31:return e.finish(28);case 32:return e.finish(25);case 33:t=!0,e.next=5;break;case 36:e.next=42;break;case 38:e.prev=38,e.t1=e.catch(3),r=!0,n=e.t1;case 42:e.prev=42,e.prev=43,t||null==i.return||i.return();case 45:if(e.prev=45,!r){e.next=48;break}throw n;case 48:return e.finish(45);case 49:return e.finish(42);case 50:p=!0,y=!1,v=void 0,e.prev=53,b=this.nodes[Symbol.iterator]();case 55:if(p=(d=b.next()).done){e.next=86;break}w=d.value,k=!0,g=!1,m=void 0,e.prev=60,x=w.tasks.both()[Symbol.iterator]();case 62:if(k=(S=x.next()).done){e.next=69;break}return O=S.value,e.next=66,O;case 66:k=!0,e.next=62;break;case 69:e.next=75;break;case 71:e.prev=71,e.t2=e.catch(60),g=!0,m=e.t2;case 75:e.prev=75,e.prev=76,k||null==x.return||x.return();case 78:if(e.prev=78,!g){e.next=81;break}throw m;case 81:return e.finish(78);case 82:return e.finish(75);case 83:p=!0,e.next=55;break;case 86:e.next=92;break;case 88:e.prev=88,e.t3=e.catch(53),y=!0,v=e.t3;case 92:e.prev=92,e.prev=93,p||null==b.return||b.return();case 95:if(e.prev=95,!y){e.next=98;break}throw v;case 98:return e.finish(95);case 99:return e.finish(92);case 100:case"end":return e.stop()}},e,this,[[3,38,42,50],[10,21,25,33],[26,,28,32],[43,,45,49],[53,88,92,100],[60,71,75,83],[76,,78,82],[93,,95,99]])})},{key:"createTask",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.pc[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.createTask()}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}},{key:"draw",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.edges()[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.draw()}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}var o=!0,a=!1,s=void 0;try{for(var u,c=this.nodes[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){u.value.draw()}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}var l=!0,f=!1,h=void 0;try{for(var p,y=this.tasks()[Symbol.iterator]();!(l=(p=y.next()).done);l=!0){p.value.draw()}}catch(e){f=!0,h=e}finally{try{l||null==y.return||y.return()}finally{if(f)throw h}}}},{key:"next",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.nodes[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.next()}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}}])&&Q(t.prototype,r),n&&Q(t,n),e}();function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $=function(){function e(t,r,n,i,o,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.p5=t,this.label=s,this.slider=this.p5.createSlider(r,n,i),this.slider.position(o,a)}var t,r,n;return t=e,(r=[{key:"draw",value:function(){var e="function"==typeof this.label?this.label(this.value):this.label;this.p5.text(e,this.slider.x+this.slider.width,this.slider.y+5)}},{key:"value",get:function(){return this.slider.value()}}])&&Z(t.prototype,r),n&&Z(t,n),e}();var ee=function e(t,r,n,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.btn=t.createButton(r),this.btn.position(n,i),this.btn.mousePressed(o)};function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var re=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.p5=t,this.network=r,new ee(t,"Reset",10,10,function(){return r.reset()}),new ee(t,"Add Req",10,40,function(){return r.createTask()}),this.requestSlider=new $(t,0,10,3,200,10,function(e){return"リクエスト数：".concat(e,"tps")}),this.lbSlider=new $(t,0,10,3,200,40,function(e){return"LB性能:".concat(e,"tps")}),this.webSlider=new $(t,0,10,1,200,70,function(e){return"WEB/AP性能:".concat(e,"tps")}),this.dbSlider=new $(t,0,10,3,200,100,function(e){return"DB性能:".concat(e,"tps")})}var t,r,n;return t=e,(r=[{key:"draw",value:function(){this.requestSlider.draw(),this.lbSlider.draw(),this.webSlider.draw(),this.dbSlider.draw()}},{key:"next",value:function(){this.p5.random()<this.requestSlider.value/150&&this.p5.random(this.network.pc).createTask(),this.network.lb.cpu=this.lbSlider.value,this.network.db.cpu=this.dbSlider.value;var e=!0,t=!1,r=void 0;try{for(var n,i=this.network.web[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.cpu=this.webSlider.value}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}}])&&te(t.prototype,r),n&&te(t,n),e}();new p5(function(e){var t,r;e.setup=function(){e.createCanvas(1280,1024),t=new U(e),r=new re(e,t)},e.draw=function(){e.background(255),r.next(),r.draw(),t.next(),t.draw()}})}]);